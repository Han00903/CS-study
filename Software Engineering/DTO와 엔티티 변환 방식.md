## Intro
##### DTO와 엔티티 변환 방식을 개선하여 리팩토링을 진행하였다.
##### DTO와 엔티티의 역할을 구분하고 계층 구조에서의 데이터 흐름 그리고 서비스 레이어에서의 적절한 데이터 처리 방식에 대해 알아보려고한다. 

## DTO & Entity
![image](https://github.com/user-attachments/assets/9eb88258-5486-402f-b928-fedc4d0ee0c1)

#### DTO(Data Transfer Object)
- DTO는 주로 데이터의 전송을 목적으로 사용한다.
- 클라이언트와 서버 간에 데이터를 주고받을 때 필요한 정보만 담고 불필요한 비즈니스 로직이나 데이터베이스 연관 정보를 제외한 순수 데이터 객체로서 역할을 한다.

#### 엔티티(Entity)
- 엔티티는 DB와의 상호작용을 담당하는 객체이다.
- 테이블 구조와 1:1대응되며 데이터베이스 연산(저장, 삭제, update 등) 및 비즈니스 로직을 처리한다.
 
#### DTO와 Entity 역할 분
- 계층간 역할 분리
 - DTO는 데이터 전달에 초점을 두고 Entity는 비즈니스 로직과 데이터 구조를 담당한다.
 - ex. 창고에서 물건(데이터)을 필요한 만큼 상자에 담아 전달할 때 엔티티는 "(데이터)창고" DTO는 "상자" 역할을 한다.
- 유지보수성 향상
  - Entity와 DTO가 명확히 분리됨에 따라 데이터 검증, 로직 변경, 확장 작업이 더 수월해졌다.
  - ex. DTO에 필드가 추가될 경우 서비스 레이어에서 변환 로직만 수정하면 된다.
- 확장성 강화
  - DTO를 사용함으로써 컨트롤러 계층에서 불필요한 Entity 의존성을 제거하고 외부 API 연동이나 데이터 변환 작업에 유연하게 대응할 수 있다.

## 코드 리팩토링(DTO와 엔티티 변환 방식을 개선)
#### 기존 코드
![image](https://github.com/user-attachments/assets/99010392-121e-4a1d-8f50-67a8a90c3239)
- 기존 코드에서는 서비스 레이어에서 직접 엔티티 객체를 생성하고 저장하는 방식으로 처리했다.
- DTO와 Entity 역할이 혼동되었다.
  - DTO와 Entity 간 변환 로직이 서비스 레이어에 위치하여 책임이 명확하지 않아 코드의 응집도가 낮고 유지보수가 어렵다.

#### 리팩토링 후 코드
![image](https://github.com/user-attachments/assets/351d58ea-a63d-47ef-ba34-05d2883c719d)
- 리팩토링을 통해 변환 로직을 Entity 내부로 캡슐화하여 코드의 가독성과 유지보수성을 향상시켰다.
- Entity 클래스에 정적 메서드 fromDTO를 추가하여 DTO 변환 로직을 캡슐화하였다. 
![image](https://github.com/user-attachments/assets/8eecaf4d-3296-4a06-87b5-36ee594cc47c)
- 리팩토링 후 개선효과는 다음과 같다.
  - 역할 분리 및 가독성 향상
  - 유지보수성 및 확장성 개선
     - 변환 로직 변경이 필요한 경우 Entity 내부에서만 수정하면 되므로 유지보수가 용이하다. 

